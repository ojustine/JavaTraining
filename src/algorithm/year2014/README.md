# Yandex Algorithm 2014
___
## A. Чёрные начинают и...
### Легенда
Вам задано расположение белого короля и белой ладьи, а также чёрного короля на шахматной доске. Расположение фигуры задаётся двумя символами — буквой от “a” до “h”, задающей вертикаль, и цифрой от 1 до 8, задающей горизонталь. В данный момент очередь хода за чёрными.

Напомним, что ладья атакует все поля, находящиеся с ней на одной горизонтали или вертикали, кроме случаев, когда между данным полем и ладьёй в соответствующем направлении есть другая фигура. Король атакует все поля, соседние с ним по стороне или по углу и может делать ход (как со взятием занимающей его фигуры другого цвета, так и без) на любое из таких полей, которое не находится под атакой фигуры другого цвета.

Требуется классифицировать позицию в соответствии со следующими вариантами:

- странный — чёрный король находится под атакой белого,
- обычная позиция — чёрный король не находится под атакой и может сделать ход,
- шах — чёрный король находится под атакой и может сделать ход,
- пат — чёрный король не находится под атакой и не может сделать ход,
- мат — чёрный король находится под атакой и не может сделать ход.

### Формат ввода
В первой строке заданы три пары символов. Первый символ каждой пары — буква от “a” до “h”, второй — цифра от 1 до 8. Эти три пары задают позиции белого короля, белой ладьи и чёрного короля соответственно. Соседние пары символов разделены пробелами. Гарантируется, что никакие две фигуры не занимают одну и ту же позицию.

### Формат вывода
В случае, если позиция является странной, выведите “Strange”, в случае, если обычной — “Normal”, в случае, если является шахом — “Check”, если является патом — “Stalemate”, если является матом — “Checkmate”.

### Пример 1
#### Ввод
`b2 a3 c4`
#### Вывод
`Normal`

### Пример 2
#### Ввод
`a1 b2 e2`
#### Вывод
`Check`

___
## B. Байтландские шаманы
### Легенда
Шаманы племён, обитавших в древности на территории нынешней Байтландии, практиковали следующий способ построения заклинаний.

В основу брались две ключевых фразы — A и B. Каждая фраза могла состоять из нескольких слов. После этого строилась такая последовательность заклинаний: T0 = A, T1 = B, T2 = A B, T3 = B A B, …, Tn = Tn - 2 Tn - 1.

Таким образом, каждое заклинание Ti, начиная с i = 2, состояло из последовательного исполнения заклинаний Ti - 2 и Ti - 1. При последовательном исполнении заклинаний между ними делалась небольшая пауза, так что новые слова при конкатенации образовываться не могли.

В разных случаях использовались разные заклинания: например, для проведения обряда инициации шаман должен был произнести заклинание так, чтобы имя духа S, встречавшееся как минимум в одной из ключевых фраз, было произнесено ровно K раз.

Антропологи обратились к вам с просьбой: зная начальные ключевые фразы A и B, имя духа S, встречающееся в одной или обеих из них, а также число K, определить число N — наименьший номер заклинания TN, в котором слово S встречается ровно K раз.

### Формат ввода
Первая строка содержит ключевую фразу A — строку из не более 255 ASCII-символов с кодами от 32 до 127 включительно. Фраза содержит от одного до десяти слов.

Словом считается последовательность английских букв, ограниченная символами-разделителями, к которым относятся все остальные символы. При этом большие и маленькие английские буквы не различаются.

Во второй строке в том же формате задана фраза B.

В третьей строке задано имя духа S — слово, представляющее собой последовательность маленьких английских букв. Гарантируется, что слово S содержится как минимум в одной из ключевых фраз A или B.

Четвёртая строка содержит одно целое положительное число K. Длина строки, содержащей число K, не превосходит 3000 символов.

### Формат вывода
Требуется вывести единственное число N — наименьший номер заклинания, в котором слово S встречается ровно K раз. Если такого номера не существует, следует вывести “Impossible”.

### Пример 1
#### Ввод
```
Python is great!
Python-Die-Grosse-Shlange
python
5
```
#### Вывод
`4`

### Пример 2
#### Ввод
```
Great Python, answer to me!
Help us, Python
python
4
```
#### Вывод
`Impossible`